<?xml version="1.0" encoding="utf-8"?><nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" autoReload="true"><targets><!--Note that setting concurrentWrites="False" effectively disable multiple process simultaneous file writes (for now)--><target name="csvExFile" xsi:type="File" fileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/MesExceptions.csv" archiveFileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/Archives/MesExceptions.{#####}.csv" archiveAboveSize="5120000" maxArchiveFiles="9" archiveNumbering="Sequence" concurrentWrites="True" keepFileOpen="True" autoFlush="True"><layout xsi:type="CSVLayout"><column name="Time" layout="${longdate}" /><column name="Message" layout="${message}" /><column name="Exc String" layout="${exception:format=tostring}" /><column name="Exc StackTrace" layout="${exception:format=stacktrace}" /></layout></target><target name="commonFile" xsi:type="File" layout="${longdate} ${processid} ${processname} ${threadid} ${threadname} ${message}" fileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/${logger}.log" archiveFileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/Archives/${logger}.{#####}.log" archiveAboveSize="5120000" maxArchiveFiles="9" archiveNumbering="Sequence" concurrentWrites="True" keepFileOpen="True" autoFlush="True" /><target name="listenAdapterLogFile" xsi:type="File" layout="${longdate} ${processid} ${processname} ${threadid} ${threadname} ${message}" fileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/ListenAdapterLog.log" archiveFileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/Archives/ListenAdapterLog.{#####}.log" archiveAboveSize="5120000" maxArchiveFiles="9" archiveNumbering="Sequence" concurrentWrites="True" keepFileOpen="True" autoFlush="True" /><target name="postMasterLibraryLogFileWrapper" xsi:type="AsyncWrapper" overflowAction="Grow"><target name="postMasterLibraryLogFile" xsi:type="File" layout="${longdate} ${processid} ${processname} ${threadid} ${threadname} ${message}" fileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/PostMasterLibraryLog.log" archiveFileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/Archives/PostMasterLibraryLog.{#####}.log" archiveAboveSize="5120000" maxArchiveFiles="9" archiveNumbering="Sequence" concurrentWrites="True" keepFileOpen="True" autoFlush="True" /></target><target name="PMDLogFileWrapper" xsi:type="AsyncWrapper" overflowAction="Grow"><target name="PMDLogFile" xsi:type="File" layout="${longdate} ${level:uppercase=true} ${processname} ${threadid} ${threadname} ${message}" fileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/AndonLog.txt" archiveFileName="${registry:key=HKLM/SOFTWARE/Panasonic Factory Automation/PanaCIM/Install:value=LogPath:defaultValue=${environment:variable=allusersprofile}/Application Data}/MES Logs/PanaCIM/Archives/AndonLog.{#####}.txt" archiveAboveSize="5120000" maxArchiveFiles="9" archiveNumbering="Sequence" concurrentWrites="True" keepFileOpen="True" autoFlush="True" /></target></targets><rules><logger name="ExceptionLog" minlevel="Error" writeTo="csvExFile" /><!--Uncomment the following line to enable communicatin layer logging--><logger name="ListenerLog" writeTo="listenAdapterLogFile" final="true" /><logger name="PostMasterLibraryLog" writeTo="postMasterLibraryLogFileWrapper" final="true" /><!--Uncomment the following line to disable communicatin layer logging--><!--<logger name="ListenerLog" final="true"/>--><logger name="AndonLog" writeTo="PMDLogFileWrapper" minlevel="Warn" final="true" /><logger name="*" writeTo="commonFile" minlevel="Info" /></rules></nlog>